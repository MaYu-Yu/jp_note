# 🎌 日語學習筆記本 (Japanese Study Notebook)

這是一個基於 **Flask** 輕量級框架開發的個人化日語單字與文法學習工具。它實現了高效的 **CRUD (Create, Read, Update, Delete)** 功能，並內建了高度自訂的**單字卡 (Flashcard)** 學習模式，支援詞性、分類、學習進度的精準篩選與追蹤。

本應用程式採用 **SQLite** 進行輕量級資料儲存，前端使用 **Bootstrap 5** 進行響應式佈局。

## 💡 主要功能特色

### 1. 資料庫正規化與多詞性支援 (最新架構)

您的後端 (`app.py`) 已成功實施資料庫正規化，將詞性管理轉換為多對多關係，以避免數據冗餘並提高靈活性。

* **多對多詞性關係：** 單字 (`vocab_table`) 與詞性 (`pos_master_table`) 採用中間連結表 (`item_pos_table`) 進行關聯，實現了多對多 (Many-to-Many) 關係。
* **詞性選擇：** 前端在新增/編輯單字時，使用複選框（Checkbox）實現多選。
* **數據呈現：** 在清單和單字卡上，後端會將所有詞性組合為逗號分隔的字串顯示 (例如：`名, 動, 他動`)。



### 2. 全面性的學習資料管理

* **單字管理：** 儲存單字、讀音、重音、詞性、中文解釋、例句等資訊。
* **文法管理：** 儲存文法、接續形式、中文解釋、例句等資訊。
* **分類標籤 (Categories)：** 支援為單字和文法添加無限個自訂標籤 (Tag)，實現多維度的分類管理。
* **清單瀏覽：** 提供清晰的資料列表，支持按頁碼分頁、按分類過濾、以及關鍵字搜尋。

### 3. 高度自訂的單字卡學習

* **精準篩選：** 可根據單字或文法類型、**多個分類標籤**、以及特定的**詞性**進行組合篩選。
* **學習進度追蹤：** 記錄使用者上次背誦到的索引位置 (`last_flashcard_index`)，下次可從上次進度繼續。
* **語音播放：** 內建 TTS (Text-to-Speech) 自動發音功能和定時自動換卡功能，支援日語發音。

## ⚙️ 技術棧

| 項目 | 技術 | 說明 |
| :--- | :--- | :--- |
| **後端框架** | Python, Flask | 輕量級 Web 框架，負責路由、資料處理與模板渲染。 |
| **資料庫** | SQLite3 | 內建的輕量級資料庫，用於持久化儲存所有學習資料。 |
| **前端框架** | HTML, Jinja2 | 使用 Flask 內建的 Jinja2 模板引擎進行動態渲染。 |
| **樣式/響應式** | Bootstrap 5 | 提供簡潔且響應式的介面設計。 |
| **語音功能** | JavaScript Web Speech API | 實現單字卡與清單中的發音功能。 |

## 🚀 運行指南

### 步驟 1: 安裝依賴

本專案主要依賴 Python 及其 Flask 函式庫。

```bash
# 建議創建並啟用虛擬環境 (可選)
# python -m venv venv
# source venv/bin/activate  # macOS/Linux 或 Unix-like 系統

# 安裝 Flask
pip install Flask
步驟 2: 資料庫初始化
首次運行應用程式時，後端 app.py 會自動執行 init_db() 函數來創建所有必要的資料表結構，包括所有單字、文法、分類和詞性相關的表。

您無需手動進行資料庫操作。

步驟 3: 運行應用程式
在專案根目錄下運行 app.py 檔案：

Bash

python app.py
應用程式將會在 http://127.0.0.1:5000/ 運行。

📂 專案結構
.
├── app.py              # 核心 Flask 應用程式邏輯與資料庫操作
├── jp_db.db            # SQLite 資料庫文件 (首次運行時生成)
├── templates/          # 所有 HTML 模板文件
│   ├── home.html       # 首頁總覽
│   ├── add_vocab.html  # 新增單字 (含詞性多選)
│   ├── edit_item.html  # 編輯單字/文法 (含詞性預選)
│   ├── list_template.html # 單字/文法清單顯示模板
│   ├── flashcard_select.html # 單字卡篩選設定
│   └── flashcard_deck.html   # 單字卡學習介面
└── README.md           # 本文件